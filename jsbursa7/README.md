7 задание крайне простое. Написать сервер к практическому заданию №4

Дополнительные ограничения:

сервер должен запускаться на порту 20007
ваше решение задания №4 должно работать если заменить jb4.smartjs.academy на localhost:20007
Во всех ответах должен присутстовать заголовок Content-Type application/json
Если клиент передает некорректный заголовок Content-Type либо он отсутствует - возвращать 401 ошибку
Начальное состояние сервера (при перезапуске) - список пользователей
Нет необходимости сохранять состояние сервера между перезапусками
Если приходит некорректное поле role (смотри условие задания №4) - возвращать 401 ошибку
использовать сторонние модули node.js запрещено
если происходит попытка модификации или удаления несуществующего id - сервер должен возвращать 404 ошибку

Для корректной работы проверки пожалуйста включите следующий код:

(предположим что в переменной server лежит ваш сервер, созданный с помощью http.createServer(). Обратите внимание - результат createServer а не listen). Вставьте в конец вашего файла следующий код:

if (module.parent) { module.exports = server } else { server.listen(20007); }

Эта строка кода запускает сервер на 20007 порту если файл непосредственно запущен через node app.js и публикует его как "модуль" если файл подключен через require (как будет в тестах)