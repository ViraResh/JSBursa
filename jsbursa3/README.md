HTML изменять запрещено.

Шаблон

Сразу предупреждаю, что данное ТЗ будет сформулировано как "user story" - т.е. последовательность действий пользователя, что несколько отличается от того, как формулировались предыдущие задания

После загрузки страницы, вы должны установить подключение через WebSocket  по адресу gameUrls.list (W0)
Через этот вебсокет вам будут приходить уведомления следующих форматов:

W1 { action: 'add', id: '345678' } - добавить в список "Существующие игры" (ul с классом "existing-games") игру с id "345678". Выводите список существующих игр в виде тега li в котором содержится id игры
W2 { action: 'remove', id: '345678' } - удалить из списка "Существующие игры" игру с id "345678". Она просто должна исчезнуть
W3 {action: 'startGame', id: 'PLAYER_ID'} - сервер зовет вас на игру на которую вы регистрировались командой register. Ваш ID -  "PLAYER_ID" (в дальнейшем это будет использоваться как PLAYER_ID), подробности ниже
W4 {error: 'message' } - вы делаете что-то не так и вебсервер сообщает вам об этом.
При нажатии на кнопку createGame вы должны выполнить следующие шаги:

C1 отключить кнопку "Создать игру" (disabled)
C2 отправить POST запрос на сервер по адресу gameUrls.newGame, в ответ вы получите результат следующего вида: {yourId: 'YOUR_ID'}.
C3 отправить по WebSocket строку вида {register: "GAME_ID"} где GAME_ID - ID полученный вами на сервере с предыдущего шага
C4 если на любом из 2 предыдущих шагов возникла ошибка - вывести в div с классом "status-message" сообщение "Ошибка создания игры" и включить кнопку "Создать игру"
При получении команды через вебсокет на начало игры, выполнить следующие шаги:

N1 вывести в .status-message сообщение "Ожидаем начала игры" и отключить кнопку "Создать игру"
N2 отправить POST запрос с содержимым вида {player: 'PLAYER_ID', game: 'GAME_ID'} по адресу gameUrls.gameReady, где PLAYER_ID - ID полученный на шаге W3, а GAME_ID - ID полученный на шаге C3
N3 если в ответ на POST запрос из N2 получен код ответа 410 (Gone) - вывести в div .status-message сообщение "Ошибка старта игры: другой игрок не ответил"
N4 если запрос из N2 провалился с кодом, отличным от 410 - вывести в div .status-message сообщение "Неизвестная ошибка старта игры"
N5 если запрос из N2 завершился успешно, то Вам прийдет ответ от сервера: { side: 'x' } или { side: 'o' }, который говорит о том, на какой стороне вы играете. Скройте блок startGame, покажите блок mainGame
J1 У вас есть вариант присоединения к существующей игре. Выводите список игр в списке (тегами li). При клике по элементу списка - отправьте запрос register также как в сценарии С3. (Это присоединение к существующей игре). При создании новой игры вы увидите свою же игру в списке игр - можете ее убирать или не убирать из списка

Перефразирую процесс подключения. Клик по "новая игра", создает "игровую комнату". GAME_ID - это ID игровой комнаты. Когда вы выполняете команду register: GAME_ID вы говорите "Сервер, я хочу учавствовать в игре с ID GAME_ID". Как только таких участников двое - игра стартует, сервер генерирует вам ID игроков (PLAYER_ID) и присылает Вам. Поэтому оба игрока получат разные ID в этот момент.

Игра ведется в поле 10х10 (можно генерировать в любой удобный для Вас момент). Игра начинается с чистого поля и хода крестика.

Ведение игры обеспечивается следующей логикой. Если сейчас Ваш ход, то при клике по ячейке вы должны выполнить следующие действия:

G1 отправить POST запрос с содержимым вида { move: 2 } и заголовками Game-ID GAME_ID и Player-ID PLAYER_ID (где GAME_ID и PLAYER_ID ровно те ID, которые получены вами ранее) по адресу gameUrls.move. 2 - номер клетки, в которую выполняется ход. Нумерация от 1 до 100.
G2 В случае ответа 200 на G1 поставить соответствующий крестик либо нолик по ячейке, по которой кликнули. Если в ответе сервера содержится поле win (может принимать значения 'x' либо 'o') - вывести в .status-message сообщение, которое лежит в поле win. Игра выиграна кем-то.
G3 В случае провала запроса G1 вывести сообщение в .status-message либо содержимое поля message ответа, либо, если такого нет - текст "Неизвестная ошибка". Прекратить выполнение любой логики, связанной с игрой кроме кнопки newGame
Если сейчас же не ваш ход, то вы должны выполнять Long-Polling GET запрос на адрес gameUrls.move.

H1 В случае провала запроса - немедленно повторить запрос (это же Long Polling)
H2 В случае получения ответа - если в ответе содержится поле move - выполнить ход другого игрока в эту клетку. Если в ответе сервера содержится поле win (может принимать значения 'x' либо 'o') - вывести в .status-message сообщение, которое лежит в поле win. Игра выиграна кем-то.
B1 Кнопка .newGame должна иметь текст "Сдаться" если игра еще не выиграна кем-то и не произошла неизвестная ошибка.  В противном случае кнопка должна иметь текст "Новая игра"
B2 При нажатии на кнопку "Новая игра" необходимо скрыть .mainGame и показать .startGame
B3 При нажатии на кнопку "Сдаться", необходимо выполнить PUT-запрос по адресу gameUrls.surrender передав такие же заголовки как в G1.
B4 При получении ответа 200 на B3 - скрыть .mainGame и показать .startGame
B5 При провале запроса B3 - вывести сообщение в .status-message либо содержимое поля message ответа, либо, если такого нет - текст "Неизвестная ошибка". Прекратить выполнение любой логики, связанной с текущей игрой кроме кнопки newGame.